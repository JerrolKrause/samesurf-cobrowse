<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Samesurf Cobrowse Implementation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#5e9aca" />
</head>
<body>

  <p>Start a new cobrowse session</p>
  <!-- Add an ID of "coBrowseStart" to an element to trigger coBrowse -->
  <button id="coBrowseStart">Start Cobrowse</button>

  <!-- Test messaging response from Samesurf -->
  <button id="testMessaging">Message Test</button>
  <hr />

  <p>Join existing cobrowse session</p>
  <input id="coBrowseRoomNumber" />
  <button id="coBrowseJoin">Join Cobrowse</button>
  <hr />

  <p>Generate token from ApiKey</p>
  <p><input id="apiKey" value="" /> Api Key</p>
  <p><input id="apiSecret" value="" /> Api Secret</p>
  <p><button id="tokenCreate">Create Token</button></p>
  <div id="tokenDisplay"></div>

  <!-- Configuration options for Samesurf implementation
      API Docs: https://dashboard.samesurf.com/api#create-a-room
   -->
  <script>
    sameSurfOptions = {
      disabledfeatures: ['MODE_LOGOUT'], // Features to disable as per API docs
      // starturl: 'https://www.duckduckgo.com', // Optional, will default to current url if not set
      fullScreen: true, // Have iframe sit on top of current view, otherwise will redirect user offsite to Samesurf
      tokenUrl: '/api/token.json', // Location to get Samesurf token from
    }
  </script>
  <!-- Include script directly above the close body tag and below sameSurfOptions -->
  <script src="dist/samesurf-cobrowse.js" async defer></script>


  <!-- Do not include this script, only used for testing -->
  <script>
    document.getElementById('apiKey').value = '';
    document.getElementById('apiSecret').value = '';
  </script>
  <script src="vendor/jsrsasign-all-min.js" async defer></script>
</body>
</html>
